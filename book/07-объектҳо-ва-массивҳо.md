# Боби 7: Объектҳо ва массивҳо

## 7.1. Массивҳо

Массив - ин маҷмӯи тартибдодаи элементҳо аст, ки ба воситаи индекс дастрас мешаванд.

### 7.1.1. Эҷоди массив

```somonscript
// Массиви холӣ
тағйирёбанда массив1: рақам[] = [];

// Массив бо элементҳо
тағйирёбанда ададҳо: рақам[] = [1, 2, 3, 4, 5];
тағйирёбанда номҳо: сатр[] = ["Аҳмад", "Фотима", "Ҳасан"];
тағйирёбанда муxtалif: ҳар[] = [1, "сатр", дуруст, 3.14];

чоп.сабт(ададҳо);      // [1, 2, 3, 4, 5]
чоп.сабт(номҳо);       // ["Аҳмад", "Фотима", "Ҳасан"]
```

### 7.1.2. Дастрасӣ ба элементҳо

```somonscript
тағйирёбанда мевahо: сатр[] = ["себ", "банан", "ангур", "шафтолӣ"];

// Дастрасӣ бо индекс (индекс аз 0 оғоз мешавад)
чоп.сабт(мевahо[0]);  // себ
чоп.сабт(мевaҳо[2]);  // ангур

// Элементи охирин
чоп.сабт(мевaҳо[мевaҳо.дарозӣ - 1]);  // шафтолӣ
```

### 7.1.3. Тағйир додани элементҳо

```somonscript
тағйирёбанда рақамҳо: рақам[] = [10, 20, 30];

рақамҳо[0] = 15;
рақамҳо[1] = 25;

чоп.сабт(рақамҳо);  // [15, 25, 30]
```

### 7.1.4. Дарозии массив

```somonscript
тағйирёбанда ададҳо: рақам[] = [1, 2, 3, 4, 5];
чоп.сабт("Дарозӣ: " + ададҳо.дарозӣ);  // Дарозӣ: 5
```

### 7.1.5. Усулҳои массив

```somonscript
тағйирёбанда рӯйхат: рақам[] = [1, 2, 3];

// илова - илова кардани элемент ба охир
рӯйхат.илова(4);
рӯйхат.илова(5);
чоп.сабт(рӯйхат);  // [1, 2, 3, 4, 5]

// баровардан - хориҷ кардани элементи охирин
тағйирёбанда охирин: рақам = рӯйхат.баровардан();
чоп.сабт("Охирин: " + охирин);  // Охирин: 5
чоп.сабт(рӯйхат);  // [1, 2, 3, 4]
```

### 7.1.6. Гузариш ба массив

```somonscript
тағйирёбанда номҳо: сатр[] = ["Аҳмад", "Фотима", "Ҳасан", "Марям"];

// Бо давраи барои
чоп.сабт("=== Феҳристи донишҷӯён ===");
барои (тағйирёбанда и: рақам = 0; и < номҳо.дарозӣ; и++) {
    чоп.сабт(`${и + 1}. ${номҳо[и]}`);
}
```

### 7.1.7. Харита, филтр ва кофтан

```somonscript
тағйирёбанда ададҳо: рақам[] = [1, 2, 3, 4, 5];

// харита - табдил додани ҳар элемент
тағйирёбанда квадратҳо: рақам[] = ададҳо.харита((х: рақам): рақам => х * х);
чоп.сабт(квадратҳо);  // [1, 4, 9, 16, 25]

// филтр - интихоби элементҳо аз рӯи шарт
тағйирёбанда ҷуфтҳо: рақам[] = ададҳо.филтр((х: рақам): мантиқӣ => х % 2 === 0);
чоп.сабт(ҷуфтҳо);  // [2, 4]

// кофтан - кам кардан ба як қимат
тағйирёбанда ҷамъ: рақам = ададҳо.кофтан((акк: рақам, х: рақам): рақам => акк + х, 0);
чоп.сабт("Ҷамъ: " + ҷамъ);  // Ҷамъ: 15
```

## 7.2. Объектҳо

Объект - ин маҷмӯи хосиятҳо аст, ки ҳар яке дорои калид ва қимат аст.

### 7.2.1. Эҷоди объект

```somonscript
// Объекти холӣ
тағйирёбанда объ1: объект = {};

// Объект бо хосиятҳо
тағйирёбанда шахс: объект = {
    ном: "Аҳмад",
    фамилия: "Раҳимов",
    синну_сол: 25,
    шаҳр: "Душанбе"
};

чоп.сабт(шахс);
```

### 7.2.2. Дастрасӣ ба хосиятҳо

```somonscript
тағйирёбанда китоб: объект = {
    ном: "Барномасозӣ бо SomonScript",
    муаллиф: "Аҳмад Раҳимов",
    сол: 2024,
    саҳифаҳо: 350
};

// Дастрасӣ бо нуқта
чоп.сабт("Ном: " + китоб.ном);
чоп.сабт("Муаллиф: " + китоб.муаллиф);

// Дастрасӣ бо қавсҳои квадратӣ
чоп.сабт("Сол: " + китоб["сол"]);
чоп.сабт("Саҳифаҳо: " + китоб["саҳифаҳо"]);
```

### 7.2.3. Тағйир ва илова кардани хосиятҳо

```somonscript
тағйирёбанда донишҷӯ: объект = {
    ном: "Фотима",
    синну_сол: 20
};

// Тағйир додан
донишҷӯ.синну_сол = 21;

// Илова кардан
донишҷӯ.донишкада = "Математика";
донишҷӯ.курс = 3;

чоп.сабт(донишҷӯ);
```

### 7.2.4. Объектҳо бо усулҳо

```somonscript
тағйирёбанда ҳисоб: объект = {
    балансвладелец: "Аҳмад Раҳимов",
    баланс: 1000,

    депозит: функсия(маблағ: рақам): холӣ {
        ин.баланс += маблағ;
        чоп.сабт(`Депозит: ${маблағ}. Нави баланс: ${ин.баланс}`);
    },

    бардоштан: функсия(маблағ: рақам): холӣ {
        агар (маблағ <= ин.баланс) {
            ин.баланс -= маблағ;
            чоп.сабт(`Бардошт: ${маблағ}. Нави баланс: ${ин.баланс}`);
        } вагарна {
            чоп.сабт("Маблағи нокифоя!");
        }
    },

    намоиш: функсия(): холӣ {
        чоп.сабт(`Ҳисоби ${ин.соҳиб}: ${ин.баланс} сомонӣ`);
    }
};

ҳисоб.намоиш();
ҳисоб.депозит(500);
ҳисоб.бардоштан(200);
ҳисоб.намоиш();
```

### 7.2.5. Гузариш ба хосиятҳои объект

```somonscript
тағйирёбанда донишҷӯ: объект = {
    ном: "Ҳасан",
    синну_сол: 22,
    донишкада: "Физика",
    курс: 4
};

// Калидҳо - рӯйхати калидҳо
тағйирёбанда калидҳо: сатр[] = Объект.калидҳо(донишҷӯ);
барои (тағйирёбанда и: рақам = 0; и < калидҳо.дарозӣ; и++) {
    тағйирёбанда калид: сатр = калидҳо[и];
    чоп.сабт(`${калид}: ${донишҷӯ[калид]}`);
}

// Қиматҳо - рӯйхати қиматҳо
тағйирёбанда қиматҳо: ҳар[] = Объект.қиматҳо(донишҷӯ);
чоп.сабт("Қиматҳо: " + қиматҳо);
```

## 7.3. Массивҳои объектҳо

```somonscript
// Рӯйхати донишҷӯён
тағйирёбанда донишҷӯён: объект[] = [
    {
        ном: "Аҳмад",
        синну_сол: 20,
        бахо: 4.5
    },
    {
        ном: "Фотима",
        синну_сол: 19,
        бахо: 4.8
    },
    {
        ном: "Ҳасан",
        синну_сол: 21,
        бахо: 4.2
    }
];

// Намоиши маълумот
чоп.сабт("=== Рӯйхати донишҷӯён ===");
барои (тағйирёбанда и: рақам = 0; и < донишҷӯён.дарозӣ; и++) {
    тағйирёбанда д: объект = донишҷӯён[и];
    чоп.сабт(`${и + 1}. ${д.ном} (${д.синну_сол} сол) - Бахо: ${д.бахо}`);
}

// Ҳисоби миёнаи бахо
тағйирёбанда ҷамъи_бахоҳо: рақам = 0;
барои (тағйирёбанда и: рақам = 0; и < донишҷӯён.дарозӣ; и++) {
    ҷамъи_бахоҳо += донишҷӯён[и].бахо;
}
тағйирёбанда миёна: рақам = ҷамъи_бахоҳо / донишҷӯён.дарозӣ;
чоп.сабт(`Миёнаи бахо: ${миёна}`);
```

## 7.4. Мисолҳои амалӣ

### Мисоли 1: Китобхона

```somonscript
тағйирёбанда китобҳо: объект[] = [
    { ном: "Шоҳнома", муаллиф: "Фирдавсӣ", сол: 1010, саҳифаҳо: 800 },
    { ном: "Гулистон", муаллиф: "Саъдӣ", сол: 1258, саҳифаҳо: 200 },
    { ном: "Бӯстон", муаллиф: "Саъдӣ", сол: 1257, саҳифаҳо: 180 }
];

функсия намоиши_китобҳо(китобҳо: объект[]): холӣ {
    чоп.сабт("=== Китобхона ===");
    барои (тағйирёбанда и: рақам = 0; и < китобҳо.дарозӣ; и++) {
        тағйирёбанда к: объект = китобҳо[и];
        чоп.сабт(`${и + 1}. "${к.ном}" - ${к.муаллиф} (${к.сол})`);
        чоп.сабт(`   Саҳифаҳо: ${к.саҳифаҳо}`);
    }
}

функсия ҷустуҷӯи_китоб(китобҳо: объект[], ном: сатр): объект | холӣ {
    барои (тағйирёбанда и: рақам = 0; и < китобҳо.дарозӣ; и++) {
        агар (китобҳо[и].ном === ном) {
            бозгашт китобҳо[и];
        }
    }
    бозгашт холӣ;
}

намоиши_китобҳо(китобҳо);

тағйирёбанда китоб: объект | холӣ = ҷустуҷӯи_китоб(китобҳо, "Гулистон");
агар (китоб !== холӣ) {
    чоп.сабт(`\nКитоб ёфт шуд: ${китоб.ном} - ${китоб.муаллиф}`);
}
```

### Мисоли 2: Системаи идораи донишҷӯён

```somonscript
тағйирёбанда синф: объект = {
    ном: "Синфи 11-А",
    донишҷӯён: [],

    илова_кардан: функсия(ном: сатр, синну_сол: рақам): холӣ {
        тағйирёбанда донишҷӯ: объект = {
            ном: ном,
            синну_сол: синну_сол,
            бахоҳо: []
        };
        ин.донишҷӯён.илова(донишҷӯ);
        чоп.сабт(`Донишҷӯ ${ном} илова карда шуд`);
    },

    илова_кардани_бахо: функсия(номи_донишҷӯ: сатр, бахо: рақам): холӣ {
        барои (тағйирёбанда и: рақам = 0; и < ин.донишҷӯён.дарозӣ; и++) {
            агар (ин.донишҷӯён[и].ном === номи_донишҷӯ) {
                ин.донишҷӯён[и].бахоҳо.илова(бахо);
                чоп.сабт(`Бахо ${бахо} ба ${номи_донишҷӯ} илова карда шуд`);
                бозгашт;
            }
        }
        чоп.сабт("Донишҷӯ ёфт нашуд!");
    },

    ҳисоби_миёна: функсия(номи_донишҷӯ: сатр): рақам {
        барои (тағйирёбанда и: рақам = 0; и < ин.донишҷӯён.дарозӣ; и++) {
            агар (ин.донишҷӯён[и].ном === номи_донишҷӯ) {
                тағйирёбанда бахоҳо: рақам[] = ин.донишҷӯён[и].бахоҳо;
                агар (бахоҳо.дарозӣ === 0) бозгашт 0;

                тағйирёбанда ҷамъ: рақам = 0;
                барои (тағйирёбанда ҷ: рақам = 0; ҷ < бахоҳо.дарозӣ; ҷ++) {
                    ҷамъ += бахоҳо[ҷ];
                }
                бозгашт ҷамъ / бахоҳо.дарозӣ;
            }
        }
        бозгашт 0;
    },

    намоиш: функсия(): холӣ {
        чоп.сабт(`\n=== ${ин.ном} ===`);
        барои (тағйирёбанда и: рақам = 0; и < ин.донишҷӯён.дарозӣ; и++) {
            тағйирёбанда д: объект = ин.донишҷӯён[и];
            тағйирёбанда миёна: рақам = ин.ҳисоби_миёна(д.ном);
            чоп.сабт(`${и + 1}. ${д.ном} (${д.синну_сол} сол) - Миёна: ${миёна}`);
        }
    }
};

// Истифодаи система
синф.илова_кардан("Аҳмад", 17);
синф.илова_кардан("Фотима", 16);

синф.илова_кардани_бахо("Аҳмад", 5);
синф.илова_кардани_бахо("Аҳмад", 4);
синф.илова_кардани_бахо("Аҳмад", 5);

синф.илова_кардани_бахо("Фотима", 5);
синф.илова_кардани_бахо("Фотима", 5);

синф.намоиш();
```

## 7.5. Хулоса

Дар ин боб шумо омӯхтед:
- Кор бо массивҳо ва усулҳои онҳо
- Эҷод ва коркарди объектҳо
- Гузариш ба массивҳо ва объектҳо
- Массивҳои объектҳо
- Усулҳои харита, филтр ва кофтан

---

**Машқҳо:**

1. Массиве эҷод кунед, ки 10 адади тасодуфӣ дорад ва калонтарин ва хурдтарин ададҳоро пайдо кунед
2. Объекте барои автомобил созед бо хосиятҳо ва усулҳо (оғоз кардан, истодан, тезонидан)
3. Рӯйхати донишҷӯён бо номҳо ва бахоҳо эҷод кунед ва донишҷӯёни бо бахои болои 4.5 -ро пайдо кунед
4. Системаи рӯйхати харидҳо созед, ки метавонед мол илова/нест кунед ва ҷамъи қиматро ҳисоб кунед
