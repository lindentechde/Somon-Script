# Боби 6: Функсияҳо

## 6.1. Муқаддима ба функсияҳо

Функсия - ин блоки коде аст, ки барои иҷрои вазифаи муайян навишта шудааст. Функсияҳо имкон медиҳанд, ки кодро такроран истифода бурда, онро беҳтар ташкил кунем.

### 6.1.1. Эълони функсия

```somonscript
// Функсияи оддӣ бе параметрҳо
функсия салом(): холӣ {
    чоп.сабт("Салом ҷаҳон!");
}

// Садо кардани функсия
салом(); // Салом ҷаҳон!
```

### 6.1.2. Функсия бо параметрҳо

```somonscript
// Функсия бо як параметр
функсия салом_ба_шахс(ном: сатр): холӣ {
    чоп.сабт("Салом, " + ном + "!");
}

салом_ба_шахс("Аҳмад");  // Салом, Аҳмад!
салом_ба_шахс("Фотима"); // Салом, Фотима!

// Функсия бо якчанд параметр
функсия маълумоти_шахс(ном: сатр, синну_сол: рақам): холӣ {
    чоп.сабт(`Ном: ${ном}, Синну сол: ${синну_сол}`);
}

маълумоти_шахс("Аҳмад", 25); // Ном: Аҳмад, Синну сол: 25
```

### 6.1.3. Функсия бо бозгашти қимат

```somonscript
// Функсияе ки қимат бармегардонад
функсия ҷамъ_кардан(а: рақам, б: рақам): рақам {
    бозгашт а + б;
}

тағйирёбанда натиҷа: рақам = ҷамъ_кардан(10, 20);
чоп.сабт("Натиҷа: " + натиҷа); // Натиҷа: 30

// Истифодаи мустақими натиҷа
чоп.сабт("5 + 7 = " + ҷамъ_кардан(5, 7)); // 5 + 7 = 12
```

## 6.2. Параметрҳои функсия

### 6.2.1. Параметрҳои пешфарз

```somonscript
// Параметрҳо бо қиматҳои пешфарз
функсия салом(ном: сатр = "меҳмон"): холӣ {
    чоп.сабт("Салом, " + ном + "!");
}

салом();          // Салом, меҳмон!
салом("Аҳмад");   // Салом, Аҳмад!

// Якчанд параметри пешфарз
функсия маълумот(ном: сатр = "Ношинос", синну_сол: рақам = 0): холӣ {
    чоп.сабт(`Ном: ${ном}, Синну сол: ${синну_сол}`);
}

маълумот();                    // Ном: Ношинос, Синну сол: 0
маълумот("Аҳмад");             // Ном: Аҳмад, Синну сол: 0
маълумот("Фотима", 22);        // Ном: Фотима, Синну сол: 22
```

### 6.2.2. Параметрҳои боқимонда

```somonscript
// Қабули шумораи номуайяни параметрҳо
функсия ҷамъи_ҳама(...ададҳо: рақам[]): рақам {
    тағйирёбанда ҷамъ: рақам = 0;
    барои (тағйирёбанда и: рақам = 0; и < ададҳо.дарозӣ; и++) {
        ҷамъ += ададҳо[и];
    }
    бозгашт ҷамъ;
}

чоп.сабт(ҷамъи_ҳама(1, 2, 3));           // 6
чоп.сабт(ҷамъи_ҳама(10, 20, 30, 40));    // 100
чоп.сабт(ҷамъи_ҳама(5));                 // 5
```

## 6.3. Доираи функсия

### 6.3.1. Тағйирёбандаҳои маҳаллӣ

```somonscript
функсия ҳисоб(): холӣ {
    // Тағйирёбандаи маҳаллӣ
    тағйирёбанда х: рақам = 10;
    чоп.сабт("Дар дохили функсия: " + х);
}

ҳисоб(); // Дар дохили функсия: 10
// чоп.сабт(х); // ХАТО! х дар берун намерасад
```

### 6.3.2. Тағйирёбандаҳои умумӣ

```somonscript
// Тағйирёбандаи умумӣ
тағйирёбанда шумора: рақам = 0;

функсия афзоиш(): холӣ {
    шумора++;
    чоп.сабт("Шумора: " + шумора);
}

афзоиш(); // Шумора: 1
афзоиш(); // Шумора: 2
афзоиш(); // Шумора: 3
```

## 6.4. Функсияҳои калимаи калидӣ

### 6.4.1. Функсияи аноним

```somonscript
// Таъини функсияи аноним ба тағйирёбанда
тағйирёбанда зарб: функсия = функсия(а: рақам, б: рақам): рақам {
    бозгашт а * б;
};

чоп.сабт(зарб(5, 3)); // 15
```

### 6.4.2. Функсияи тири калон (Arrow Function)

```somonscript
// Синтаксиси тири калон
тағйирёбанда квадрат: функсия = (х: рақам): рақам => {
    бозгашт х * х;
};

чоп.сабт(квадрат(5)); // 25

// Шакли мухтасар (барои як ифода)
тағйирёбанда дукарат: функсия = (х: рақам): рақам => х * 2;

чоп.сабт(дукарат(10)); // 20
```

## 6.5. Функсияҳои рекурсивӣ

Функсияи рекурсивӣ функсияе аст, ки худаш худро садо мезанад.

```somonscript
// Ҳисоби факториал бо усули рекурсия
функсия факториал(н: рақам): рақам {
    агар (н <= 1) {
        бозгашт 1;
    }
    бозгашт н * факториал(н - 1);
}

чоп.сабт("Факториали 5: " + факториал(5));  // 120
чоп.сабт("Факториали 6: " + факториал(6));  // 720

// Силсилаи Фибоначчӣ
функсия фибоначчӣ(н: рақам): рақам {
    агар (н <= 1) {
        бозгашт н;
    }
    бозгашт фибоначчӣ(н - 1) + фибоначчӣ(н - 2);
}

// Намоиши 10 адади аввали силсилаи Фибоначчӣ
барои (тағйирёбанда и: рақам = 0; и < 10; и++) {
    чоп.сабт(`Фибоначчӣ(${и}) = ${фибоначчӣ(и)}`);
}
```

## 6.6. Функсияҳои дараҷаи баланд

Функсияҳои дараҷаи баланд функсияҳое ҳастанд, ки функсияҳои дигарро ҳамчун параметр мегиранд ё функсия бармегардонанд.

```somonscript
// Функсия ки функсияи дигарро ҳамчун параметр мегирад
функсия амалиёт(а: рақам, б: рақам, амал: функсия): рақам {
    бозгашт амал(а, б);
}

функсия ҷамъ(х: рақам, у: рақам): рақам {
    бозгашт х + у;
}

функсия зарб(х: рақам, у: рақам): рақам {
    бозгашт х * у;
}

чоп.сабт(амалиёт(10, 5, ҷамъ));  // 15
чоп.сабт(амалиёт(10, 5, зарб));  // 50
```

## 6.7. Функсияҳо бо массивҳо

### 6.7.1. харита (map)

```somonscript
тағйирёбанда ададҳо: рақам[] = [1, 2, 3, 4, 5];

// Дукарат кардани ҳар адад
тағйирёбанда дукаратҳо: рақам[] = ададҳо.харита((х: рақам): рақам => х * 2);
чоп.сабт(дукаратҳо); // [2, 4, 6, 8, 10]
```

### 6.7.2. филтр (filter)

```somonscript
тағйирёбанда ададҳо: рақам[] = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

// Интихоби ададҳои ҷуфт
тағйирёбанда ҷуфтҳо: рақам[] = ададҳо.филтр((х: рақам): мантиқӣ => х % 2 === 0);
чоп.сабт(ҷуфтҳо); // [2, 4, 6, 8, 10]
```

### 6.7.3. кофтан (reduce)

```somonscript
тағйирёбанда ададҳо: рақам[] = [1, 2, 3, 4, 5];

// Ҷамъи ҳамаи элементҳо
тағйирёбанда ҷамъ: рақам = ададҳо.кофтан((акк: рақам, х: рақам): рақам => акк + х, 0);
чоп.сабт("Ҷамъи ҳама: " + ҷамъ); // 15
```

## 6.8. Мисолҳои амалӣ

### Мисоли 1: Функсия барои санҷиши адади содда

```somonscript
функсия содда_аст(адад: рақам): мантиқӣ {
    агар (адад < 2) {
        бозгашт нодуруст;
    }

    барои (тағйирёбанда и: рақам = 2; и < адад; и++) {
        агар (адад % и === 0) {
            бозгашт нодуруст;
        }
    }

    бозгашт дуруст;
}

// Санҷиш
чоп.сабт("2 содда аст: " + содда_аст(2));   // дуруст
чоп.сабт("4 содда аст: " + содда_аст(4));   // нодуруст
чоп.сабт("17 содда аст: " + содда_аст(17)); // дуруст
```

### Мисоли 2: Калькулятор

```somonscript
функсия калькулятор(а: рақам, б: рақам, оператор: сатр): рақам {
    интихоб (оператор) {
        ҳолат "+":
            бозгашт а + б;
        ҳолат "-":
            бозгашт а - б;
        ҳолат "*":
            бозгашт а * б;
        ҳолат "/":
            агар (б === 0) {
                чоп.сабт("Хато: Тақсим ба сифр!");
                бозгашт 0;
            }
            бозгашт а / б;
        пешфарз:
            чоп.сабт("Оператори номаълум!");
            бозгашт 0;
    }
}

чоп.сабт("10 + 5 = " + калькулятор(10, 5, "+"));  // 15
чоп.сабт("10 - 5 = " + калькулятор(10, 5, "-"));  // 5
чоп.сабт("10 * 5 = " + калькулятор(10, 5, "*"));  // 50
чоп.сабт("10 / 5 = " + калькулятор(10, 5, "/"));  // 2
```

### Мисоли 3: Коркарди массивҳо

```somonscript
// Ёфтани калонтарин адад
функсия калонтарин(массив: рақам[]): рақам {
    агар (массив.дарозӣ === 0) {
        бозгашт 0;
    }

    тағйирёбанда макс: рақам = массив[0];
    барои (тағйирёбанда и: рақам = 1; и < массив.дарозӣ; и++) {
        агар (массив[и] > макс) {
            макс = массив[и];
        }
    }
    бозгашт макс;
}

// Ҳисоби миёна
функсия миёна(массив: рақам[]): рақам {
    агар (массив.дарозӣ === 0) {
        бозгашт 0;
    }

    тағйирёбанда ҷамъ: рақам = 0;
    барои (тағйирёбанда и: рақам = 0; и < массив.дарозӣ; и++) {
        ҷамъ += массив[и];
    }
    бозгашт ҷамъ / массив.дарозӣ;
}

тағйирёбанда ададҳо: рақам[] = [10, 25, 5, 30, 15];
чоп.сабт("Калонтарин: " + калонтарин(ададҳо));  // 30
чоп.сабт("Миёна: " + миёна(ададҳо));            // 17
```

## 6.9. Хулоса

Дар ин боб шумо омӯхтед:
- Чӣ тавр функсия эълон кардан
- Кор бо параметрҳо ва қиматҳои бозгаштӣ
- Доираи тағйирёбандаҳо
- Функсияҳои аноним ва тири калон
- Рекурсия
- Функсияҳои дараҷаи баланд

---

**Машқҳо:**

1. Функсияе нависед, ки рақами саҳифаҳои китобро мегирад ва баҳои китобро ҳисоб мекунад (ҳар саҳифа 100 дирам)
2. Функсияи рекурсивӣ эҷод кунед, ки ҷамъи ададҳоро аз 1 то н ҳисоб мекунад
3. Функсияе нависед, ки массиви ададҳоро мегирад ва танҳо ададҳои тоқро бармегардонад
4. Калькулятори пешрафтатар созед, ки амалиётҳои зиёдро дастгирӣ мекунад (квадрат, дараҷа, ва ғайра)
