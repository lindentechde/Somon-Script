# Classes and Objects

Learn object-oriented programming in SomonScript with classes, inheritance,
encapsulation, and modern OOP patterns.

## Basic Class Definition

### Simple Class

```somon
класс Шахс {
    ном: сатр;
    синну_сол: рақам;

    созанда(ном: сатр, синну_сол: рақам) {
        ин.ном = ном;
        ин.синну_сол = синну_сол;
    }

    функсия танишӣ(): сатр {
        бозгашт "Салом, ман " + ин.ном + " ҳастам ва синни ман " + ин.синну_сол + " сол аст.";
    }
}

// Creating instances
тағйирёбанда аҳмад = нав Шахс("Аҳмад", 25);
тағйирёбанда фотима = нав Шахс("Фотима", 28);

чоп.сабт(аҳмад.танишӣ());    // "Салом, ман Аҳмад ҳастам..."
чоп.сабт(фотима.танишӣ());  // "Салом, ман Фотима ҳастам..."
```

### Class with Methods

```somon
класс Ҳисобкитоб {
    ном: сатр;
    мавҷудга: рақам;

    созанда(ном: сатр, мавҷудгаи_ибтидоӣ: рақам = 0) {
        ин.ном = ном;
        ин.мавҷудга = мавҷудгаи_ибтидоӣ;
    }

    функсия илова(миқдор: рақам): шумораи_кул {
        ин.мавҷудга += миқдор;
        бозгашт ин.мавҷудга;
    }

    функсия барориш(миқдор: рақам): мантиқӣ {
        агар (миқдор > ин.мавҷудга) {
            чоп.хато("Маблағи кофӣ нест!");
            бозгашт нодуруст;
        }
        ин.мавҷудга -= миқдор;
        бозгашт дуруст;
    }

    функсия намоиши_мавҷудга(): сатр {
        бозгашт "Ҳисобкитоби " + ин.ном + ": " + ин.мавҷудга + " сомонӣ";
    }
}

тағйирёбанда ҳисобкитоби_ман = нав Ҳисобкитоб("Ҳисобкитоби аслӣ", 1000);
ҳисобкитоби_ман.илова(500);
чоп.сабт(ҳисобкитоби_ман.намоиши_мавҷудга()); // "Ҳисобкитоби аслӣ: 1500 сомонӣ"
```

## Access Modifiers

### Public, Private, and Protected

```somon
класс КорбариБонк {
    // Public (default)
    ном: сатр;
    электронӣ: сатр;

    // Private - only accessible within this class
    хусусӣ рамзи_убур: сатр;
    хусусӣ мавҷудга: рақам;

    // Protected - accessible in this class and subclasses
    муҳофизатшуда рақами_ҳисобкитоб: сатр;

    созанда(ном: сатр, электронӣ: сатр, рамзи_убур: сатр) {
        ин.ном = ном;
        ин.электронӣ = электронӣ;
        ин.рамзи_убур = рамзи_убур;
        ин.мавҷудга = 0;
        ин.рақами_ҳисобкитоб = ин.тавлиди_рақами_ҳисобкитоб();
    }

    // Private method
    хусусӣ функсия тавлиди_рақами_ҳисобкитоб(): сатр {
        бозгашт "ACC" + Math.random().toString().slice(2, 10);
    }

    // Public method for authentication
    функсия санҷиши_рамзи_убур(рамз: сатр): мантиқӣ {
        бозгашт ин.рамзи_убур === рамз;
    }

    // Getter for private balance
    функсия гирифтани_мавҷудга(): рақам {
        бозгашт ин.мавҷудга;
    }

    // Setter with validation
    функсия таъини_мавҷудга(миқдор: рақам): шумораи_кул {
        агар (миқдор < 0) {
            партофтан нав Error("Мавҷудга наметавонад манфӣ бошад");
        }
        ин.мавҷудга = миқдор;
    }
}

тағйирёбанда корбар = нав КорбариБонк("Сарвар", "sarvar@email.com", "secret123");

// ✅ Public access works
чоп.сабт(корбар.ном);              // "Сарвар"
чоп.сабт(корбар.гирифтани_мавҷудга()); // 0

// ❌ These would cause errors:
// чоп.сабт(корбар.рамзи_убур);     // Error: Private member
// корбар.тавлиди_рақами_ҳисобкитоб(); // Error: Private method
```

## Getters and Setters

### Property Accessors

```somon
класс Маҳсулот {
    хусусӣ _нарх: рақам;
    хусусӣ _ном: сатр;
    хусусӣ _андоз: рақам = 0.1; // 10% tax

    созанда(ном: сатр, нарх: рақам) {
        ин._ном = ном;
        ин._нарх = нарх;
    }

    // Getter for name
    гирифтан ном(): сатр {
        бозгашт ин._ном;
    }

    // Setter for name with validation
    таъин ном(қимат: сатр) {
        агар (қимат.дарозии_сатр < 1) {
            партофтан нав Error("Номи маҳсулот наметавонад холӣ бошад");
        }
        ин._ном = қимат;
    }

    // Getter for price
    гирифтан нарх(): рақам {
        бозгашт ин._нарх;
    }

    // Setter for price with validation
    таъин нарх(қимат: рақам) {
        агар (қимат < 0) {
            партофтан нав Error("Нарх наметавонад манфӣ бошад");
        }
        ин._нарх = қимат;
    }

    // Computed property - price with tax
    гирифтан нархи_ниҳоӣ(): рақам {
        бозгашт ин._нарх * (1 + ин._андоз);
    }

    // Read-only property
    гирифтан миқдори_андоз(): рақам {
        бозгашт ин._нарх * ин._андоз;
    }
}

тағйирёбанда китоб = нав Маҳсулот("Шоҳнома", 50);

// Using getters and setters
чоп.сабт(китоб.ном);            // "Шоҳнома"
чоп.сабт(китоб.нарх);           // 50
чоп.сабт(китоб.нархи_ниҳоӣ);    // 55 (with tax)

китоб.нарх = 60;                // Uses setter
чоп.сабт(китоб.нархи_ниҳоӣ);    // 66

// ❌ This would throw an error:
// китоб.нарх = -10;            // Error: Negative price
```

## Static Members

### Static Properties and Methods

```somon
класс МукамиетиРаққомӣ {
    // Static property - shared by all instances
    статикӣ тағйирёбанда шумораи_кул = 0;
    статикӣ тағйирёбанда пи = 3.14159;

    // Instance properties
    радиус: рақам;

    созанда(радиус: рақам) {
        ин.радиус = радиус;
        МукамиетиРаққомӣ.шумораи_кул++; // Increment count when creating instances
    }

    // Instance method
    функсия масоҳат(): рақам {
        бозгашт МукамиетиРаққомӣ.пи * ин.радиус * ин.радиус;
    }

    // Static method - can be called without creating an instance
    статикӣ функсия масоҳати_мукаммал(радиус: рақам): рақам {
        бозгашт МукамиетиРаққомӣ.пи * радиус * радиус;
    }

    // Static method to get instance count
    статикӣ функсия шумораи_намунањо(): рақам {
        бозгашт МукамиетиРаққомӣ.шумораи_кул;
    }

    // Static utility method
    статикӣ функсия муқоисаи_масоҳат(радиус1: рақам, радиус2: рақам): сатр {
        тағйирёбанда масоҳат1 = МукамиетиРаққомӣ.масоҳати_мукаммал(радиус1);
        тағйирёбанда масоҳат2 = МукамиетиРаққомӣ.масоҳати_мукаммал(радиус2);

        агар (масоҳат1 > масоҳат2) {
            бозгашт "Давираи аввал калонтар аст";
        } вагарна агар (масоҳат2 > масоҳат1) {
            бозгашт "Давираи дуюм калонтар аст";
        } вагарна {
            бозгашт "Давираҳо баробар";
        }
    }
}

// Using static methods without creating instances
чоп.сабт(МукамиетиРаққомӣ.масоҳати_мукаммал(5)); // 78.54

// Creating instances
тағйирёбанда давира1 = нав МукамиетиРаққомӣ(3);
тағйирёбанда давира2 = нав МукамиетиРаққомӣ(7);

чоп.сабт(МукамиетиРаққомӣ.шумораи_намунањо()); // 2

// Using instance methods
чоп.сабт(давира1.масоҳат()); // 28.27

// Using static utility method
чоп.сабт(МукамиетиРаққомӣ.муқоисаи_масоҳат(3, 7)); // "Давираи дуюм калонтар аст"
```

## Inheritance

### Basic Inheritance

```somon
// Base class
класс Ҳайвон {
    ном: сатр;
    синну_сол: рақам;

    созанда(ном: сатр, синну_сол: рақам) {
        ин.ном = ном;
        ин.синну_сол = синну_сол;
    }

    функсия танишӣ(): сатр {
        бозгашт "Ман " + ин.ном + " ҳастам ва синни ман " + ин.синну_сол + " сол аст";
    }

    функсия садо(): сатр {
        бозгашт "Ҳайвон садо мекунад";
    }

    функсия ҳаракат(): сатр {
        бозгашт ин.ном + " ҳаракат мекунад";
    }
}

// Derived class
класс Саг мерос Ҳайвон {
    нажод: сатр;

    созанда(ном: сатр, синну_сол: рақам, нажод: сатр) {
        super(ном, синну_сол); // Call parent constructor
        ин.нажод = нажод;
    }

    // Override parent method
    функсия садо(): сатр {
        бозгашт ин.ном + " ваҳ ваҳ мекунад!";
    }

    // New method specific to Dog
    функсия бозӣ(): сатр {
        бозгашт ин.ном + " бо тӯб бозӣ мекунад";
    }

    // Override with additional behavior
    функсия ҳаракат(): сатр {
        бозгашт super.ҳаракат() + " ба тези давида";
    }
}

// Another derived class
класс Гурба мерос Ҳайвон {
    ранги_чашм: сатр;

    созанда(ном: сатр, синну_сол: рақам, ранги_чашм: сатр) {
        super(ном, синну_сол);
        ин.ранги_чашм = ранги_чашм;
    }

    функсия садо(): сатр {
        бозгашт ин.ном + " миёв миёв мекунад";
    }

    функсия ғижғиж(): сатр {
        бозгашт ин.ном + " ба шодӣ ғижғиж мекунад";
    }
}

// Using inheritance
тағйирёбанда рекс = нав Саг("Рекс", 3, "Немис ғубурачӣ");
тағйирёбанда муси = нав Гурба("Мусӣ", 2, "кабуд");

чоп.сабт(рекс.танишӣ());     // From parent
чоп.сабт(рекс.садо());       // Overridden
чоп.сабт(рекс.бозӣ());       // New method
чоп.сабт(рекс.ҳаракат());    // Enhanced parent method

чоп.сабт(муси.садо());       // Overridden
чоп.сабт(муси.ғижғиж());     // New method
```

### Abstract Classes

```somon
// Abstract base class
муҷарради класс Шакли_Геометрӣ {
    х: рақам;
    у: рақам;

    созанда(х: рақам, у: рақам) {
        ин.х = х;
        ин.у = у;
    }

    // Concrete method
    функсия интиқол(dx: рақам, dy: рақам): шумораи_кул {
        ин.х += dx;
        ин.у += dy;
    }

    // Abstract methods - must be implemented by subclasses
    муҷарадӣ функсия масоҳат(): рақам;
    муҷарадӣ функсия муҳит(): рақам;
    муҷарадӣ функсия тасвир(): сатр;
}

класс Мукаммал мерос Шакли_Геометрӣ {
    радиус: рақам;

    созанда(х: рақам, у: рақам, радиус: рақам) {
        super(х, у);
        ин.радиус = радиус;
    }

    функсия масоҳат(): рақам {
        бозгашт Math.PI * ин.радиус * ин.радиус;
    }

    функсия муҳит(): рақам {
        бозгашт 2 * Math.PI * ин.радиус;
    }

    функсия тасвир(): сатр {
        бозгашт "Мукамали бо радиуси " + ин.радиус + " дар нуқтаи (" + ин.х + ", " + ин.у + ")";
    }
}

класс Мустатил мерос Шакли_Геометрӣ {
    васеъ: рақам;
    баланд: рақам;

    созанда(х: рақам, у: рақам, васеъ: рақам, баланд: рақам) {
        super(х, у);
        ин.васеъ = васеъ;
        ин.баланд = баланд;
    }

    функсия масоҳат(): рақам {
        бозгашт ин.васеъ * ин.баланд;
    }

    функсия муҳит(): рақам {
        бозгашт 2 * (ин.васеъ + ин.баланд);
    }

    функсия тасвир(): сатр {
        бозгашт "Мустатили " + ин.васеъ + "x" + ин.баланд + " дар нуқтаи (" + ин.х + ", " + ин.у + ")";
    }
}
```

## Interfaces

### Interface Definition and Implementation

```somon
// Interface for objects that can fly
интерфейс Парандагӣ {
    баландии_парвоз: рақам;

    функсия парвоз(): сатр;
    функсия фуруд(): сатр;
    функсия ъухуд_баландӣ(миқдор: рақам): шумораи_кул;
}

// Interface for objects that can swim
интерфейс Шиногарӣ {
    чуқурии_ғавс: рақам;

    функсия шино(): сатр;
    функсия ғавс(чуқурӣ: рақам): сатр;
}

// Class implementing one interface
класс Парранда иҷро Парандагӣ {
    ном: сатр;
    баландии_парвоз: рақам = 0;

    созанда(ном: сатр) {
        ин.ном = ном;
    }

    функсия парвоз(): сатр {
        ин.баландии_парвоз = 100;
        бозгашт ин.ном + " парвоз мекунад";
    }

    функсия фуруд(): сатр {
        ин.баландии_парвоз = 0;
        бозгашт ин.ном + " фуруд меояд";
    }

    функсия тағйири_баландӣ(миқдор: рақам): шумораи_кул {
        ин.баландии_парвоз += миқдор;
        агар (ин.баландии_парвоз < 0) {
            ин.баландии_парвоз = 0;
        }
    }
}

// Class implementing multiple interfaces
класс Ҳавхуруш иҷро Парандагӣ, Шиногарӣ {
    ном: сатр;
    баландии_парвоз: рақам = 0;
    чуқурии_ғавс: рақам = 0;

    созанда(ном: сатр) {
        ин.ном = ном;
    }

    // Implementing Flyable
    функсия парвоз(): сатр {
        ин.баландии_парвоз = 50;
        бозгашт ин.ном + " аз рӯи об парвоз мекунад";
    }

    функсия фуруд(): сатр {
        ин.баландии_парвоз = 0;
        бозгашт ин.ном + " ба об фуруд меояд";
    }

    функсия тағйири_баландӣ(миқдор: рақам): шумораи_кул {
        ин.баландии_парвоз += миқдор;
    }

    // Implementing Swimmable
    функсия шино(): сатр {
        бозгашт ин.ном + " дар об шино мекунад";
    }

    функсия ғавс(чуқурӣ: рақам): сатр {
        ин.чуқурии_ғавс = чуқурӣ;
        бозгашт ин.ном + " то чуқурии " + чуқурӣ + " метр ғавс мекунад";
    }
}

тағйирёбанда aqaab = нав Парранда("Уқоб");
тағйирёбанда ҳавхуруш = нав Ҳавхуруш("Ҳавхуруш");

чоп.сабт(уқоб.парвоз());           // "Уқоб парвоз мекунад"
чоп.сабт(ҳавхуруш.парвоз());       // "Ҳавхуруш аз рӯи об парвоз мекунад"
чоп.сабт(ҳавхуруш.шино());         // "Ҳавхуруш дар об шино мекунад"
```

## Composition vs Inheritance

### Composition Pattern

```somon
// Component classes
класс Муҳаррик {
    қувват: рақам;
    навъ: сатр;

    созанда(қувват: рақам, навъ: сатр) {
        ин.қувват = қувват;
        ин.навъ = навъ;
    }

    функсия оғоз(): сатр {
        бозгашт навъ + " муҳаррик оғоз ёфт";
    }

    функсия истодан(): сатр {
        бозгашт "Муҳаррик истод";
    }
}

класс Ғилдирак {
    андоза: рақам;
    навъ: сатр;

    созанда(андоза: рақам, навъ: сатр) {
        ин.андоза = андоза;
        ин.навъ = навъ;
    }

    функсия тасвир(): сатр {
        бозгашт навъ + " ғилдираки " + андоза + " инч";
    }
}

// Composition: Car HAS-A Engine and Wheels
класс Мошин {
    модел: сатр;
    хусусӣ муҳаррик: Муҳаррик;
    хусусӣ ғилдиракҳо: Ғилдирак[];

    созанда(модел: сатр, муҳаррик: Муҳаррик, ғилдиракҳо: Ғилдирак[]) {
        ин.модел = модел;
        ин.муҳаррик = муҳаррик;
        ин.ғилдиракҳо = ғилдиракҳо;
    }

    функсия оғози_мошин(): сатр {
        бозгашт "Оғози " + ин.модел + ": " + ин.муҳаррик.оғоз();
    }

    функсия истодани_мошин(): сатр {
        бозгашт ин.модел + " истод: " + ин.муҳаррик.истодан();
    }

    функсия маълумоти_мошин(): сатр {
        тағйирёбанда маълумот = "Мошини " + ин.модел + "\n";
        маълумот += "Муҳаррик: " + ин.муҳаррик.навъ + " (" + ин.муҳаррик.қувват + "HP)\n";
        маълумот += "Ғилдиракҳо: " + ин.ғилдиракҳо.length + " донаи " + ин.ғилдиракҳо[0].тасвир();
        бозгашт маълумот;
    }
}

// Creating car using composition
тағйирёбанда муҳаррики_v8 = нав Муҳаррик(400, "V8");
тағйирёбанда ғилдиракҳои_спорт = [
    нав Ғилдирак(18, "спортӣ"),
    нав Ғилдирак(18, "спортӣ"),
    нав Ғилдирак(18, "спортӣ"),
    нав Ғилдирак(18, "спортӣ")
];

тағйирёбанда мустанг = нав Мошин("Ford Mustang", муҳаррики_v8, ғилдиракҳои_спорт);

чоп.сабт(мустанг.оғози_мошин());        // Uses engine functionality
чоп.сабт(мустанг.маълумоти_мошин());    // Shows composition details
```

## Design Patterns

### Factory Pattern

```somon
// Product interface
интерфейс Маҳсулоти_Электронӣ {
    навъ: сатр;
    нарх: рақам;

    функсия истифода(): сатр;
    функсия техӯб(): сатр;
}

// Concrete products
класс Телефон иҷро Маҳсулоти_Электронӣ {
    навъ = "Телефон";
    нарх: рақам;
    модел: сатр;

    созанда(модел: сатр, нарх: рақам) {
        ин.модел = модел;
        ин.нарх = нарх;
    }

    функсия истифода(): сатр {
        бозгашт "Телефони " + ин.модел + " барои занг задан истифода мешавад";
    }

    функсия техӯб(): сатр {
        бозгашт "Телефон таъмир мешавад";
    }
}

класс Компютер иҷро Маҳсулоти_Электронӣ {
    навъ = "Компютер";
    нарх: рақам;
    протсессор: сатр;

    созанда(протсессор: сатр, нарх: рақам) {
        ин.протсессор = протсессор;
        ин.нарх = нарх;
    }

    функсия истифода(): сатр {
        бозгашт "Компютер бо протсессори " + ин.протсессор + " барои кор истифода мешавад";
    }

    функсия техӯб(): сатр {
        бозгашт "Компютер тоза карда мешавад";
    }
}

// Factory class
класс Корхонаи_Электронӣ {
    статикӣ функсия тавлиди_маҳсулот(навъ: сатр, ...параметрҳо: any[]): Маҳсулоти_Электронӣ | холӣ {
        муқоиса (навъ.toLowerCase()) {
            ҳолат "телефон":
                агар (параметрҳо.length >= 2) {
                    бозгашт нав Телефон(параметрҳо[0], параметрҳо[1]);
                }
                шикастан;
            ҳолат "компютер":
                агар (параметрҳо.length >= 2) {
                    бозгашт нав Компютер(параметрҳо[0], параметрҳо[1]);
                }
                шикастан;
            пешфарз:
                чоп.хато("Навъи номаълум: " + навъ);
                бозгашт холӣ;
        }
        чоп.хато("Параметрҳои нокифоя");
        бозгашт холӣ;
    }
}

// Using factory
тағйирёбанда телефони_нав = Корхонаи_Электронӣ.тавлиди_маҳсулот("телефон", "iPhone 14", 999);
тағйирёбанда компютери_нав = Корхонаи_Электронӣ.тавлиди_маҳсулот("компютер", "Intel i7", 1200);

агар (телефони_нав) {
    чоп.сабт(телефони_нав.истифода());
}
агар (компютери_нав) {
    чоп.сабт(компютери_нав.истифода());
}
```

### Observer Pattern

```somon
// Observer interface
интерфейс Мушоҳидагар {
    функсия навсозӣ(паём: сатр): шумораи_кул;
}

// Subject class
класс Хабарнома {
    хусусӣ мушоҳидагарон: Мушоҳидагар[] = [];
    хусусӣ охирин_хабар: сатр = "";

    функсия илова_кардани_мушоҳидагар(мушоҳидагар: Мушоҳидагар): шумораи_кул {
        ин.мушоҳидагарон.push(мушоҳидагар);
    }

    функсия хориҷ_кардани_мушоҳидагар(мушоҳидагар: Мушоҳидагар): шумораи_кул {
        тағйирёбанда индекс = ин.мушоҳидагарон.indexOf(мушоҳидагар);
        агар (индекс > -1) {
            ин.мушоҳидагарон.splice(индекс, 1);
        }
    }

    хусусӣ функсия огоҳ_кардани_ҳама(): шумораи_кул {
        барои (тағйирёбанда мушоҳидагар аз ин.мушоҳидагарон) {
            мушоҳидагар.навсозӣ(ин.охирин_хабар);
        }
    }

    функсия фиристодани_хабар(хабар: сатр): шумораи_кул {
        ин.охирин_хабар = хабар;
        чоп.сабт("Хабари нав фиристода шуд: " + хабар);
        ин.огоҳ_кардани_ҳама();
    }
}

// Concrete observers
класс Корбари_Телефон иҷро Мушоҳидагар {
    ном: сатр;

    созанда(ном: сатр) {
        ин.ном = ном;
    }

    функсия навсозӣ(паём: сатр): шумораи_кул {
        чоп.сабт("📱 " + ин.ном + " ба телефон хабар гирифт: " + паём);
    }
}

класс Корбари_Почтаи_Электронӣ иҷро Мушоҳидагар {
    электронӣ: сатр;

    созанда(электронӣ: сатр) {
        ин.электронӣ = электронӣ;
    }

    функсия навсозӣ(паём: сатр): шумораи_кул {
        чоп.сабт("📧 Email ба " + ин.электронӣ + ": " + паём);
    }
}

// Using observer pattern
тағйирёбанда хабарнома = нав Хабарнома();

тағйирёбанда аҳмад = нав Корбари_Телефон("Аҳмад");
тағйирёбанда фотима = нав Корбари_Почтаи_Электронӣ("fotima@email.com");

хабарнома.илова_кардани_мушоҳидагар(аҳмад);
хабарнома.илова_кардани_мушоҳидагар(фотима);

хабарнома.фиристодани_хабар("Таҷрибаи нави навбатӣ!");
```

## Advanced Class Features

### Class Decorators and Metadata

```somon
// Decorator function
функсия санҷиши_дастрасӣ(нақш: сатр) {
    бозгашт функсия(класси_маќсадӣ: any) {
        // Add access control metadata
        класси_мақсадӣ.нақши_дастрасӣ = нақш;

        // Wrap methods with access check
        тағйирёбанда калидҳои_аслӣ = Object.getOwnPropertyNames(класси_мақсадӣ.prototype);

        барои (тағйирёбанда калид аз калидҳои_аслӣ) {
            агар (калид !== 'constructor' && typeof класси_мақсадӣ.prototype[калид] === 'function') {
                тағйирёбанда аслӣ_усул = класси_мақсадӣ.prototype[калид];

                класси_мақсадӣ.prototype[калид] = функсия(...args: any[]) {
                    чоп.сабт("Санҷиши дастрасӣ барои нақши: " + нақш);
                    бозгашт аслӣ_усул.apply(ин, args);
                };
            }
        }

        бозгашт класси_мақсадӣ;
    };
}

// Using decorator
@санҷиши_дастрасӣ("админ")
класс Муҳити_Муҳим {
    маълумот: сатр = "Маълумоти муҳим";

    функсия хондани_маълумот(): сатр {
        бозгашт ин.маълумот;
    }

    функсия нав_кардани_маълумот(қимати_нав: сатр): шумораи_кул {
        ин.маълумот = қимати_нав;
    }
}
```

### Mixins

```somon
// Mixin functions
функсия Парандагӣ<T extends Конструктор>(Асос: T) {
    бозгашт класс мерос Асос {
        метавонад_парвоз = дуруст;
        баландӣ = 0;

        функсия парвоз(): сатр {
            ин.баландӣ = 100;
            бозгашт "Дар баландии " + ин.баландӣ + " метр парвоз мекунам";
        }

        функсия фуруд(): сатр {
            ин.баландӣ = 0;
            бозгашт "Фуруд омадам";
        }
    };
}

функсия Шиногарӣ<T extends Конструктор>(Асос: T) {
    бозгашт класс мерос Асос {
        метавонад_шино = дуруст;
        дар_об = нодуруст;

        функсия шино(): сатр {
            ин.дар_об = дуруст;
            бозгашт "Дар об шино мекунам";
        }

        функсия баромадан_аз_об(): сатр {
            ин.дар_об = нодуруст;
            бозгашт "Аз об баромадам";
        }
    };
}

// Base class
класс Ҳайвони_Асосӣ {
    ном: сатр;

    созанда(ном: сатр) {
        ин.ном = ном;
    }

    функсия танишӣ(): сатр {
        бозгашт "Ман " + ин.ном + " ҳастам";
    }
}

// Using mixins
класс Ҳавхуруш мерос Шиногарӣ(Парандагӣ(Ҳайвони_Асосӣ)) {
    созанда(ном: сатр) {
        super(ном);
    }

    функсия кори_мураккаб(): сатр[] {
        тағйирёбанда натиҷаҳо = [];
        натиҷаҳо.push(ин.танишӣ());
        натиҷаҳо.push(ин.парвоз());
        натиҷаҳо.push(ин.фуруд());
        натиҷаҳо.push(ин.шино());
        натиҷаҳо.push(ин.баромадан_аз_об());
        бозгашт натиҷаҳо;
    }
}

тағйирёбанда хавхуруши_қодир = нав Ҳавхуруш("Саид");
чоп.сабт(хавхуруши_қодир.кори_мураккаб());
```

## Best Practices

### 1. Use Clear Class Names and Structure

```somon
// ✅ Good: Clear, descriptive names
класс Дархости_Ҳисобкитоб {
    рақами_ҳисобкитоб: сатр;
    миқдори_дархост: рақам;
    таърихи_дархост: Таърих;

    созанда(рақами_ҳисобкитоб: сатр, миқдор: рақам) {
        ин.рақами_ҳисобкитоб = рақами_ҳисобкитоб;
        ин.миқдори_дархост = миқдор;
        ин.таърихи_дархост = нав Таърих();
    }
}

// ❌ Avoid: Unclear, abbreviated names
класс DrhstHsb {
    rqm: сатр;
    miqd: рақам;
}
```

### 2. Encapsulate Data Properly

```somon
// ✅ Good: Proper encapsulation
класс Ҳисобкитоби_Пасандоз {
    хусусӣ _мавҷудга: рақам;
    хусусӣ _нархи_фоида: рақам;

    созанда(мавҷудгаи_ибтидоӣ: рақам, нархи_фоида: рақам) {
        ин._мавҷудга = мавҷудгаи_ибтидоӣ;
        ин._нархи_фоида = нархи_фоида;
    }

    гирифтан мавҷудга(): рақам {
        бозгашт ин._мавҷудга;
    }

    функсия ҳисоби_фоида(): рақам {
        бозгашт ин._мавҷудга * ин._нархи_фоида / 100;
    }
}

// ❌ Avoid: Public access to sensitive data
класс ҲисобкитобиБад {
    мавҷудга: рақам;  // Should be private
    рамзи_убур: сатр; // Definitely should be private!
}
```

### 3. Favor Composition Over Inheritance

```somon
// ✅ Good: Use composition for flexible design
класс Нигоҳдори_Маълумот {
    хусусӣ омили_захиракунӣ: ОмилиЗахиракунӣ;

    созанда(стратегияи_захиракунӣ: ОмилиЗахиракунӣ) {
        ин.омили_захиракунӣ = стратегияи_захиракунӣ;
    }

    функсия захира(маълумот: any): мантиқӣ {
        бозгашт ин.омили_захиракунӣ.захира(маълумот);
    }
}
```

### 4. Use Interfaces for Contracts

```somon
// ✅ Good: Define clear contracts
интерфейс Хизматрасони_Пардохт {
    функсия коркарди_пардохт(маблағ: рақам, усул: сатр): Натиҷаи_Пардохт;
    функсия санҷиши_мавҷудга(ҳисобкитоб: сатр): мантиқӣ;
    функсия тасдиқи_амал(рақами_муомила: сатр): мантиқӣ;
}
```

## Next Steps

You've mastered SomonScript classes and OOP concepts! Continue your journey
with:

1. **[Advanced Types](advanced-types.md)** - Generics, union types, mapped types
2. **[How-to Guides](../how-to/)** - Practical implementation patterns
3. **[Reference - Classes](../reference/classes.md)** - Complete class syntax
   reference

---

**Ready for Advanced Types?** → [Advanced Types](advanced-types.md)
